@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    user-select: none;
    scroll-behavior: smooth;
    scrollbar-gutter: stable;
    text-rendering: geometricPrecision;

    img {
      pointer-events: none;
    }

    mark {
      color: inherit;
      background-color: inherit;
    }

    ::-webkit-scrollbar {
      display: none;
    }
  }
}

@layer components {
  .prose {
    hr {
      @apply mx-auto w-1/3 border-accent;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      @apply font-display tracking-tight text-amber-50;
    }

    a {
      @apply font-normal text-accent no-underline;
    }

    blockquote {
      @apply bg-neutral-900/25 border-l-2 p-0;

      >p {
        @apply px-5 py-3 not-italic text-lg font-light text-neutral-400 leading-8 before:content-none after:content-none;
      }
    }

    ul {
      @apply list-none p-0;
    }

    ul>li::before {
      @apply inline-block mr-2 text-accent;
      content: 'â€”';
    }

    ul>li {
      @apply pl-0;
    }

    pre,
    code {
      @apply font-code before:content-none after:content-none;
    }

    :not(pre)>code {
      @apply relative rounded-md border border-neutral-800 bg-neutral-900 px-[4px] py-[1px] text-[0.825rem] font-medium;
    }

    pre {
      @apply relative overflow-auto p-0;
      @apply border border-neutral-900 bg-neutral-900/25;

      >code {
        @apply overflow-x-scroll py-2 text-[0.8rem];
        counter-reset: line;

        &[data-line-numbers] {
          >[data-line]::before {
            counter-increment: line;
            content: counter(line);
            @apply mr-4 inline-block w-4 text-right text-xs text-neutral-500;
          }
        }

        >[data-line] {
          @apply border-l-2 border-l-transparent px-3;
        }

        >[data-highlighted-line] {
          @apply border-l-neutral-800 bg-neutral-800/50;
        }

        [data-highlighted-chars] {
          @apply rounded-md bg-neutral-800 p-1;
        }
      }
    }

    [data-rehype-pretty-code-title] {
      @apply bg-neutral-900/50 font-code text-xs text-neutral-300;
      @apply rounded-md rounded-b-none border-x border-t border-neutral-900;
      @apply max-w-full overflow-x-auto whitespace-nowrap px-3 py-2;

      +pre {
        @apply mt-0 rounded-t-none;
      }
    }

    [data-rehype-pretty-code-caption] {
      @apply text-center text-xs text-neutral-500;
    }
  }

  #moon-group {
    @apply animate-hover;
  }

  #moon-group #aura-group {
    @apply animate-shine;
  }

  #moon-group #aura-group #aura-1,
  #moon-group #aura-group #aura-2,
  #moon-group #aura-group #aura-3 {
    @apply animate-shine;
  }

  #moon-group #crater-group #crater-1,
  #moon-group #crater-group #crater-2,
  #moon-group #crater-group #crater-3,
  #moon-group #crater-group #crater-4 {
    @apply animate-hover;
  }

  #mountain-group {
    @apply animate-jam;
  }

  #mountain-group #mountain-1,
  #mountain-group #mountain-2,
  #mountain-group #mountain-3,
  #mountain-group #mountain-4 {
    @apply animate-jam;
  }
}

@layer utilities {
  .animate {
    @apply transition-all duration-500 ease-in-out;
  }
}